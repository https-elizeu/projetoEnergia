<script>

    var arvore = [
        { id: 1, nome: "IFPE", sucessor: [2, 10] },             //IIPE
        { id: 2, nome: "Local 1", sucessor: [3, 7] },           //  Local 1  
        { id: 3, nome: "Local 1.1", sucessor: [4, 5, 6] },      //      Local 1.1
        { id: 4, nome: "Local 1.1.1", sucessor: [] },           //          Local 1.1.1
        { id: 5, nome: "Local 1.1.2", sucessor: [] },           //          Local 1.1.2
        { id: 6, nome: "Local 1.1.3", sucessor: [] },           //          Local 1.1.3
        { id: 7, nome: "Local 1.2", sucessor: [8, 9] },         //      Local 1.2
        { id: 8, nome: "Local 1.2.1", sucessor: [] },           //          Local 1.2.1
        { id: 9, nome: "Local 1.2.2", sucessor: [] },           //          Local 1.2.2
        { id: 10, nome: "Local 2", sucessor: [11] },            //  Local 2
        { id: 11, nome: "Local 2.1", sucessor: [12, 13, 14] },  //      Local 2.2
        { id: 12, nome: "Local 2.1.1", sucessor: [] },          //          Local 2.2.1
        { id: 13, nome: "Local 2.1.2", sucessor: [] },          //          Local 2.2.2
        { id: 14, nome: "Local 2.1.3", sucessor: [] }           //          Local 2.2.3
    ]

    var list1 = [] 
    var list2 = []
    var listam3 = []
    var listam33 = []
    var cont = 0;

    verificarPesenca(cont)

    function verificarPesenca(a) {
        if (list1.length == arvore.length) {
            acaba()
        } else {
            cont = 0;
            for (var l = 0; l < list1.length; l++) {
                if (arvore[a].id == list1[l]) {
                    cont++
                }
            }
            if (cont == 0) {
                organisacao(a, 1)
            } else {
                if (listam3[a] != 0) {
                    organisacao(a, 0)
                }
            }
        }
    }

    function organisacao(a, x) {
        if (arvore[a].sucessor.length != 0) {
            var tamanho = arvore[a].sucessor.length
            listam3.push(tamanho - 1)
            var espaco = organisarEspaco()
            list1.push(arvore[a].id)
            list2.push(arvore[a].id)
            if (x == 1) {
                console.log(espaco + arvore[a].nome)
            }
            console.log(list1)
            console.log(listam3)
            verificarPesenca(quemMeSussede(a, 0))
        }
        else {
            var tamanho = 0
            listam3.push(tamanho)
            list1.push(arvore[a].id)
            list2.push(arvore[a].id)
            var espaco = organisarEspaco()
            console.log(espaco + arvore[a].nome)
            console.log(list1)
            console.log(listam3)
            verificarPesenca(veioAntes())
        }
    }

    function organisarEspaco() {
        var espaco = "  "
        for (var e = 0; e < list2.length; e++) {
            espaco = espaco + "  ";
        }
        return espaco
    }

    function quemMeSussede(b, z) {
        for (var l = 0; l < list1.length; l++) {
            if (arvore[b].sucessor[z] == list1[l]) {
                z = z++
                quemMeSussede(b, z)
            }
        }
        var sucessor = arvore[b].sucessor[z]
        sucessor--
        return sucessor
    }

    function veioAntes() {
        list2.pop();
        listam3.pop();
        console.log(list1)
        console.log(list2)
        console.log(listam3)
        var final = list2.length
        final--
        console.log(final)
        return list2[final]
    }

    function acaba() {
        console.log("acabou")
    }
</script>